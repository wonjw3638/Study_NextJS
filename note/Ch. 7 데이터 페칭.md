## fetch
Web API에서 제공하는 fetch를 사용<br>
Next.js는 이러한 네이티브 fetch Web API를 확장하여 서버에서 각 fetch 요청의 캐싱 및 재검증 동작을 구성할 수 있게 해줌

### 1. 데이터 캐싱
서버로부터 받아온 데이터를 캐시에 저장해놓고, 동일한 요청이 왔을 때 다시 서버에 요청하지 않고 캐시에 저장된 데이터를 사용<br>
Next.js에서는 fetch에서 반환된 데이터를 데이터 캐시에 자동으로 캐싱하지 않음.
캐시를 사용하고 싶으면 cache의 옵션 값을 `force-cache`로 설정.

### 2. 데이터 재검증
재검증은 캐시된 데이터를 최신 상태로 유지하기 위해 서버에서 새로운 데이터를 받아와 기존 데이터를 갱신하는 과정 <br>
스테일 데이터 (stale data) : 시간이 지난 데이터

- 시간 기반 재검증
    - 시간을 기반으로 재검증을 진행
    - 데이터가 캐싱되고 일정시간이 지난 이후에 데이터를 자동으로 재검증 함
    - 정적으로 렌더링 된 라우트에서 여러 fetch 요청이 있고 재검증 주기가 다르다면, 가장 짧은 시간이 모든 요청에 적용됨
- 온디맨드 재검증
    - 필요한 경우에 직접 재검증을 요청하는 방식
    - 당장 최신의 데이터를 보여줘야 할 필요가 있는 경우에는 온디맨드 재검증을 사용함
    - 서버액션/라우트 핸들러 내에서 `revalidatePath()` 함수를 사용하여 특정 경로에 대해 재검증 `revalidateTag()` 함수를 사용해 특정 캐시태그에 대해 재검증
    - Next.js는 라우트 전체에서 fetㄴch 요청을 무효화 하기 위한 `캐시 태깅 시스템`을 갖추고 있음

## 서버액션
클라이언트 컴포넌트가 서버에서 실행되는 비동기 함수를 호출할 수 있게 해주는 기능
`use server` 지시어 사용

`use server` 지시어와 함께 서버의 액션이 정의 되면 Next.js는 해당 서버 함수에 대한 참조를 생성하고 그 참조를 클라이언트 컴포넌트에 전달함

1. 서버 컴포넌트에서 서버 액션 사용하기
    - 인라인 함수 레벨 또는 모듈 레벨에서 `use server` 지시어를 사용하여 서버 액션을 정의함
    - `use server` 를 사용한 함수는 js로 번들링 조차 되지 않음 (클라이언트 단으로 내려오지 않고, 서버단에서만 실행됨)
2. 클라이언트 컴포넌트에서 서버 액션 사용하기
    - `use server` 지시어를 사용하는 파일로부터 서버 액션을 import해서 가져올 수 있음
    - 클라이언트 단에서 자동으로 API를 생성해서 호출하는 느낌


    
