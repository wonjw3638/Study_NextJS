## 미들웨어란
컴퓨터 시스템에서 응용 프로그램과 운영체제의 중간 계층에서 작동하는 프로그램
서로 다른 소프트웨어 애플리케이션간의 상호작용을 쉽게 함으로써 통합을 편리하게 함

- cookie-parser : 쿠키를 쉽게 파싱할 수 있게 함
- cors : CORS를 설정, 다른 도메인에서의 요청을 허용하거나 제한함
- helmet : HTTP헤더를 설정해줌, 다양한 보안 공격으로부터 보호

## Next.js의 미들웨어
Next.js의 미들웨어 : Next.js 애플리케이션 서버에서 요청에 대해 응답하기 전에 실행되는 코드 또는 프로그램

### 1. 미들웨어 사용 사례
1. 인증이나 권한과 관련된 경우
    - 요청에 응답하기 전에 사용자의 로그인 여부나 권한을 먼저 확인
2. 서버측에서 리디렉션을 하고 싶은 경우
    - 사용자를 특정 페이지로 이동
3. Path Rewirting(경로 재작성)
    - 경로는 유지하면서 사용자에게 다른 페이지를 보여줌

> 미들웨어 사용하면 좋지 않은 경우
> - 크고 복잡한 데이터를 가져오거나 조작하는 동작
> - 계산 비용이 많이 드는 작업
> - 전체적인 세션 관리 / 데이터베이스와 관련된 작업

### 2. 미들웨어 사용 방법
프로젝트 루트 경로에 `middleware.ts` 파일 작성
미들웨어는 모든 라우트 경로에 대해 실행되므로, 특정 경로에 대해서만 실행하고 싶은 경우 `Matcher`를 잘 사용해야함
matcher의 값은 빌드 타임에 정적으로 분석되기 때문에 동적인 값을 넣으면 안되고 상수 형태의 값만 사용해야함
-> 동적으로 사용하고 싶은 경우에, matcher에서는 조건을 넓게 잡고 미들웨어 내부에서 조건 달고 처리하는 것이 일반적임.

### 3. 미들웨어 사용 예시
- 쿠키 조작하기
- 요청 및 응답 헤더 조작하기
- Response 직접 반환
- 

